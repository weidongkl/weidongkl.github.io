"use strict";(self.webpackChunkweidongkl_github_io=self.webpackChunkweidongkl_github_io||[]).push([[3234],{5728:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>r,default:()=>a,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"note/os/diagnosis/network_connect","title":"Linux \u65e0\u6cd5\u8bbf\u95ee\u7f51\u5740\u6392\u67e5\u65b9\u6cd5","description":"\u5f53\u4e00\u53f0\u673a\u5668\u65e0\u6cd5\u8bbf\u95ee\u67d0\u4e2a\u7f51\u5740\u65f6\uff0c\u53ef\u6309\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u7cfb\u7edf\u5316\u5b9a\u4f4d\uff0c\u4ece DNS \u5230\u670d\u52a1\u7aef\u9010\u5c42\u6392\u67e5\u95ee\u9898\u3002","source":"@site/docs/note/os/diagnosis/network_connect.md","sourceDirName":"note/os/diagnosis","slug":"/note/os/diagnosis/network_connect","permalink":"/docs/note/os/diagnosis/network_connect","draft":false,"unlisted":false,"editUrl":"https://github.com/weidongkl/weidongkl.github.io/tree/master/docs/note/os/diagnosis/network_connect.md","tags":[],"version":"current","lastUpdatedBy":"weidongkl","lastUpdatedAt":1752319346000,"frontMatter":{},"sidebar":"note","previous":{"title":"\u95ee\u9898\u5b9a\u4f4d","permalink":"/docs/category/\u95ee\u9898\u5b9a\u4f4d"},"next":{"title":"Linux \u542f\u52a8\u5931\u8d25\u95ee\u9898\u6392\u67e5\u4e0e\u4fee\u590d\u8bb0\u5f55","permalink":"/docs/note/os/diagnosis/os_boot_err"}}');var i=s(4848),d=s(8453);const c={},r="Linux \u65e0\u6cd5\u8bbf\u95ee\u7f51\u5740\u6392\u67e5\u65b9\u6cd5",h={},t=[{value:"1. \u68c0\u67e5\u7f51\u7edc\u8fde\u901a\u6027",id:"1-\u68c0\u67e5\u7f51\u7edc\u8fde\u901a\u6027",level:2},{value:"1.1 \u786e\u8ba4 DNS \u662f\u5426\u6b63\u5e38\u89e3\u6790",id:"11-\u786e\u8ba4-dns-\u662f\u5426\u6b63\u5e38\u89e3\u6790",level:3},{value:"1.2 \u6d4b\u8bd5 IP \u8fde\u901a\u6027",id:"12-\u6d4b\u8bd5-ip-\u8fde\u901a\u6027",level:3},{value:"1.3 \u8def\u7531\u8def\u5f84\u8ffd\u8e2a",id:"13-\u8def\u7531\u8def\u5f84\u8ffd\u8e2a",level:3},{value:"2. \u68c0\u67e5\u670d\u52a1\u7aef\u7aef\u53e3\u4e0e\u534f\u8bae",id:"2-\u68c0\u67e5\u670d\u52a1\u7aef\u7aef\u53e3\u4e0e\u534f\u8bae",level:2},{value:"2.1 \u6d4b\u8bd5\u76ee\u6807\u7aef\u53e3\u662f\u5426\u5f00\u653e",id:"21-\u6d4b\u8bd5\u76ee\u6807\u7aef\u53e3\u662f\u5426\u5f00\u653e",level:3},{value:"2.2 \u6a21\u62df Web \u8bf7\u6c42\u5e76\u8c03\u8bd5",id:"22-\u6a21\u62df-web-\u8bf7\u6c42\u5e76\u8c03\u8bd5",level:3},{value:"3. \u68c0\u67e5\u672c\u5730\u4ee3\u7406\u3001\u8def\u7531\u3001\u9632\u706b\u5899\u914d\u7f6e",id:"3-\u68c0\u67e5\u672c\u5730\u4ee3\u7406\u8def\u7531\u9632\u706b\u5899\u914d\u7f6e",level:2},{value:"3.1 \u68c0\u67e5\u4ee3\u7406\u8bbe\u7f6e",id:"31-\u68c0\u67e5\u4ee3\u7406\u8bbe\u7f6e",level:3},{value:"3.2 \u67e5\u770b\u9632\u706b\u5899\u89c4\u5219\u548c\u7f51\u7edc\u8def\u7531",id:"32-\u67e5\u770b\u9632\u706b\u5899\u89c4\u5219\u548c\u7f51\u7edc\u8def\u7531",level:3},{value:"3.3 \u8def\u7531\u8ffd\u8e2a\uff08\u91cd\u590d\u7528\u4e8e\u6392\u67e5\u8def\u7531\u53d8\u5316\uff09",id:"33-\u8def\u7531\u8ffd\u8e2a\u91cd\u590d\u7528\u4e8e\u6392\u67e5\u8def\u7531\u53d8\u5316",level:3},{value:"4. \u670d\u52a1\u7aef\u72b6\u6001\u4e0e\u7f51\u7edc\u7b56\u7565",id:"4-\u670d\u52a1\u7aef\u72b6\u6001\u4e0e\u7f51\u7edc\u7b56\u7565",level:2},{value:"4.1 \u5224\u65ad\u670d\u52a1\u662f\u5426\u5b95\u673a",id:"41-\u5224\u65ad\u670d\u52a1\u662f\u5426\u5b95\u673a",level:3},{value:"4.2 \u6d4b\u8bd5\u662f\u5426\u672c\u5730\u7f51\u7edc\u88ab\u5c4f\u853d",id:"42-\u6d4b\u8bd5\u662f\u5426\u672c\u5730\u7f51\u7edc\u88ab\u5c4f\u853d",level:3},{value:"5. \u9ad8\u7ea7\u8bca\u65ad\u5de5\u5177",id:"5-\u9ad8\u7ea7\u8bca\u65ad\u5de5\u5177",level:2},{value:"5.1 \u7f51\u7edc\u6293\u5305\u5206\u6790",id:"51-\u7f51\u7edc\u6293\u5305\u5206\u6790",level:3},{value:"5.2 \u68c0\u67e5 HTTPS \u8bc1\u4e66\u6709\u6548\u6027",id:"52-\u68c0\u67e5-https-\u8bc1\u4e66\u6709\u6548\u6027",level:3},{value:"6. \u66f4\u591a",id:"6-\u66f4\u591a",level:2},{value:"6.1 \u5e38\u89c1\u95ee\u9898\u6392\u67e5\u6c47\u603b\u8868",id:"61-\u5e38\u89c1\u95ee\u9898\u6392\u67e5\u6c47\u603b\u8868",level:3},{value:"6.2 \u5feb\u901f\u4fee\u590d\u65b9\u6cd5",id:"62-\u5feb\u901f\u4fee\u590d\u65b9\u6cd5",level:3},{value:"6.3 \u5feb\u901f\u6392\u67e5\u811a\u672c",id:"63-\u5feb\u901f\u6392\u67e5\u811a\u672c",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"linux-\u65e0\u6cd5\u8bbf\u95ee\u7f51\u5740\u6392\u67e5\u65b9\u6cd5",children:"Linux \u65e0\u6cd5\u8bbf\u95ee\u7f51\u5740\u6392\u67e5\u65b9\u6cd5"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u4e00\u53f0\u673a\u5668\u65e0\u6cd5\u8bbf\u95ee\u67d0\u4e2a\u7f51\u5740\u65f6\uff0c\u53ef\u6309\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u7cfb\u7edf\u5316\u5b9a\u4f4d\uff0c\u4ece DNS \u5230\u670d\u52a1\u7aef\u9010\u5c42\u6392\u67e5\u95ee\u9898\u3002"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-\u68c0\u67e5\u7f51\u7edc\u8fde\u901a\u6027",children:"1. \u68c0\u67e5\u7f51\u7edc\u8fde\u901a\u6027"}),"\n",(0,i.jsx)(n.h3,{id:"11-\u786e\u8ba4-dns-\u662f\u5426\u6b63\u5e38\u89e3\u6790",children:"1.1 \u786e\u8ba4 DNS \u662f\u5426\u6b63\u5e38\u89e3\u6790"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nslookup example.com\ndig example.com +short\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u82e5\u5931\u8d25\uff0c\u5c1d\u8bd5\u6307\u5b9a\u516c\u5171 DNS\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nslookup example.com 8.8.8.8\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u68c0\u67e5\u7cfb\u7edf\u914d\u7f6e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cat /etc/resolv.conf\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"12-\u6d4b\u8bd5-ip-\u8fde\u901a\u6027",children:"1.2 \u6d4b\u8bd5 IP \u8fde\u901a\u6027"}),"\n",(0,i.jsx)(n.p,{children:"\u5148\u83b7\u53d6\u89e3\u6790\u5230\u7684 IP\uff0c\u518d\u6d4b\u8bd5\u8fde\u63a5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ping <\u76ee\u6807IP>\ncurl -v http://<\u76ee\u6807IP>  # \u7ed5\u8fc7\u57df\u540d\u6d4b\u8bd5\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u82e5 IP \u80fd ping \u901a\u800c\u57df\u540d\u4e0d\u901a \u2192 DNS \u95ee\u9898\u6216 Host \u5934\u914d\u7f6e\u9519\u8bef"}),"\n",(0,i.jsx)(n.li,{children:"\u82e5 IP \u4e5f\u65e0\u6cd5\u8fde\u901a \u2192 \u7f51\u7edc\u4e2d\u65ad\u6216\u88ab\u9632\u706b\u5899\u62e6\u622a"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"13-\u8def\u7531\u8def\u5f84\u8ffd\u8e2a",children:"1.3 \u8def\u7531\u8def\u5f84\u8ffd\u8e2a"}),"\n",(0,i.jsx)(n.p,{children:"\u901a\u8fc7\u8def\u7531\u8ffd\u8e2a\u5de5\u5177\u89c2\u5bdf\u7f51\u7edc\u8def\u5f84\u662f\u5426\u4e2d\u65ad\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"traceroute example.com         # \u57fa\u672c\u8def\u7531\u8ffd\u8e2a\nmtr -n example.com             # \u5b9e\u65f6\u3001\u56fe\u5f62\u5316\u8def\u7531\u5206\u6790\uff08\u9700\u5b89\u88c5\uff09\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u82e5\u4e2d\u95f4\u8df3\u6570\u5361\u4f4f\u6216\u8d85\u65f6\uff0c\u53ef\u80fd\u662f\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4e2d\u95f4\u7f51\u7edc\u8282\u70b9\u6545\u969c"}),"\n",(0,i.jsx)(n.li,{children:"\u67d0\u8df3\u5b58\u5728\u9632\u706b\u5899\u4e22\u5305"}),"\n",(0,i.jsx)(n.li,{children:"\u76ee\u6807\u670d\u52a1\u90e8\u7f72\u5728\u4e91\u670d\u52a1\u4e2d\u7981\u6b62 ICMP"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-\u68c0\u67e5\u670d\u52a1\u7aef\u7aef\u53e3\u4e0e\u534f\u8bae",children:"2. \u68c0\u67e5\u670d\u52a1\u7aef\u7aef\u53e3\u4e0e\u534f\u8bae"}),"\n",(0,i.jsx)(n.h3,{id:"21-\u6d4b\u8bd5\u76ee\u6807\u7aef\u53e3\u662f\u5426\u5f00\u653e",children:"2.1 \u6d4b\u8bd5\u76ee\u6807\u7aef\u53e3\u662f\u5426\u5f00\u653e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"telnet example.com 80     # HTTP\ntelnet example.com 443    # HTTPS\n# \u6216\u4f7f\u7528 nc\uff08\u63a8\u8350\uff09\nnc -zv example.com 80\nnc -zv example.com 443\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u8fde\u63a5\u5931\u8d25\u53ef\u80fd\u662f\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u670d\u52a1\u7aef\u672a\u76d1\u542c\u8be5\u7aef\u53e3"}),"\n",(0,i.jsx)(n.li,{children:"\u4e2d\u95f4\u7f51\u7edc\u8def\u5f84\u6216\u672c\u673a\u51fa\u7ad9\u9632\u706b\u5899\u963b\u65ad"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"22-\u6a21\u62df-web-\u8bf7\u6c42\u5e76\u8c03\u8bd5",children:"2.2 \u6a21\u62df Web \u8bf7\u6c42\u5e76\u8c03\u8bd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -v http://example.com\ncurl -vk https://example.com    # \u5ffd\u7565 HTTPS \u8bc1\u4e66\u9a8c\u8bc1\nwget --debug http://example.com\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5e38\u89c1\u9519\u8bef\u63d0\u793a\u53ca\u539f\u56e0\uff1a"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u9519\u8bef\u4fe1\u606f"}),(0,i.jsx)(n.th,{children:"\u53ef\u80fd\u539f\u56e0"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Could not resolve host"}),(0,i.jsx)(n.td,{children:"DNS \u89e3\u6790\u5931\u8d25"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection refused"}),(0,i.jsx)(n.td,{children:"\u670d\u52a1\u672a\u76d1\u542c\u6216\u88ab\u62e6\u622a"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection timed out"}),(0,i.jsx)(n.td,{children:"\u7f51\u7edc\u6216\u9632\u706b\u5899\u95ee\u9898"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"SSL certificate problem"}),(0,i.jsx)(n.td,{children:"\u8bc1\u4e66\u65e0\u6548\u6216\u8fc7\u671f"})]})]})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-\u68c0\u67e5\u672c\u5730\u4ee3\u7406\u8def\u7531\u9632\u706b\u5899\u914d\u7f6e",children:"3. \u68c0\u67e5\u672c\u5730\u4ee3\u7406\u3001\u8def\u7531\u3001\u9632\u706b\u5899\u914d\u7f6e"}),"\n",(0,i.jsx)(n.h3,{id:"31-\u68c0\u67e5\u4ee3\u7406\u8bbe\u7f6e",children:"3.1 \u68c0\u67e5\u4ee3\u7406\u8bbe\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env | grep -i proxy\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u82e5\u4e0d\u5e0c\u671b\u901a\u8fc7\u4ee3\u7406\u8bbf\u95ee\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unset http_proxy https_proxy\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"32-\u67e5\u770b\u9632\u706b\u5899\u89c4\u5219\u548c\u7f51\u7edc\u8def\u7531",children:"3.2 \u67e5\u770b\u9632\u706b\u5899\u89c4\u5219\u548c\u7f51\u7edc\u8def\u7531"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo iptables -L -n\nsudo firewall-cmd --list-all  # RHEL/CentOS \u7cfb\nip route show                 # \u8def\u7531\u8868\n"})}),"\n",(0,i.jsx)(n.h3,{id:"33-\u8def\u7531\u8ffd\u8e2a\u91cd\u590d\u7528\u4e8e\u6392\u67e5\u8def\u7531\u53d8\u5316",children:"3.3 \u8def\u7531\u8ffd\u8e2a\uff08\u91cd\u590d\u7528\u4e8e\u6392\u67e5\u8def\u7531\u53d8\u5316\uff09"}),"\n",(0,i.jsxs)(n.p,{children:["\u82e5\u524d\u9762\u672a\u6267\u884c ",(0,i.jsx)(n.code,{children:"traceroute"}),"\uff0c\u6b64\u5904\u4e5f\u53ef\u4ee5\u6267\u884c\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"traceroute example.com\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-\u670d\u52a1\u7aef\u72b6\u6001\u4e0e\u7f51\u7edc\u7b56\u7565",children:"4. \u670d\u52a1\u7aef\u72b6\u6001\u4e0e\u7f51\u7edc\u7b56\u7565"}),"\n",(0,i.jsx)(n.h3,{id:"41-\u5224\u65ad\u670d\u52a1\u662f\u5426\u5b95\u673a",children:"4.1 \u5224\u65ad\u670d\u52a1\u662f\u5426\u5b95\u673a"}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528\u7b2c\u4e09\u65b9\u7ad9\u70b9\u68c0\u6d4b\u670d\u52a1\u7aef\u53ef\u7528\u6027\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl https://downforeveryoneorjustme.com/example.com\n"})}),"\n",(0,i.jsx)(n.h3,{id:"42-\u6d4b\u8bd5\u662f\u5426\u672c\u5730\u7f51\u7edc\u88ab\u5c4f\u853d",children:"4.2 \u6d4b\u8bd5\u662f\u5426\u672c\u5730\u7f51\u7edc\u88ab\u5c4f\u853d"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6362\u7528\u624b\u673a\u70ed\u70b9\u3001VPN \u6216\u5176\u4ed6\u7f51\u7edc\u6d4b\u8bd5\u662f\u5426\u53ef\u4ee5\u8bbf\u95ee"}),"\n",(0,i.jsx)(n.li,{children:"\u4f01\u4e1a\u7f51\u7edc\u6216\u8fd0\u8425\u5546\u53ef\u80fd\u5c4f\u853d\u4e86\u90e8\u5206\u7ad9\u70b9\u6216\u7aef\u53e3"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-\u9ad8\u7ea7\u8bca\u65ad\u5de5\u5177",children:"5. \u9ad8\u7ea7\u8bca\u65ad\u5de5\u5177"}),"\n",(0,i.jsx)(n.h3,{id:"51-\u7f51\u7edc\u6293\u5305\u5206\u6790",children:"5.1 \u7f51\u7edc\u6293\u5305\u5206\u6790"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo tcpdump -i any host example.com -w capture.pcap\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\u7528 Wireshark \u6253\u5f00 ",(0,i.jsx)(n.code,{children:".pcap"})," \u6587\u4ef6"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u770b DNS \u67e5\u8be2\u662f\u5426\u6210\u529f"}),"\n",(0,i.jsx)(n.li,{children:"\u770b TCP \u662f\u5426\u4e09\u6b21\u63e1\u624b\u6210\u529f"}),"\n",(0,i.jsx)(n.li,{children:"\u770b\u662f\u5426\u5b58\u5728 RST\u3001ICMP \u9519\u8bef\u7b49"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"52-\u68c0\u67e5-https-\u8bc1\u4e66\u6709\u6548\u6027",children:"5.2 \u68c0\u67e5 HTTPS \u8bc1\u4e66\u6709\u6548\u6027"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"openssl s_client -connect example.com:443 -showcerts\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u9a8c\u8bc1\u8bc1\u4e66\u94fe\u3001\u8bc1\u4e66\u662f\u5426\u8fc7\u671f\u3001\u662f\u5426\u4e3a\u76ee\u6807\u57df\u540d\u9881\u53d1"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"6-\u66f4\u591a",children:"6. \u66f4\u591a"}),"\n",(0,i.jsx)(n.h3,{id:"61-\u5e38\u89c1\u95ee\u9898\u6392\u67e5\u6c47\u603b\u8868",children:"6.1 \u5e38\u89c1\u95ee\u9898\u6392\u67e5\u6c47\u603b\u8868"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"\u73b0\u8c61"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"\u53ef\u80fd\u539f\u56e0"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"\u5efa\u8bae\u89e3\u51b3\u65b9\u6848"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u65e0\u6cd5\u89e3\u6790\u57df\u540d"}),(0,i.jsx)(n.td,{children:"DNS \u914d\u7f6e\u9519\u8bef/\u8fd0\u8425\u5546\u6c61\u67d3"}),(0,i.jsx)(n.td,{children:"\u66f4\u6362\u4e3a\u516c\u5171 DNS\uff0c\u5982 8.8.8.8\uff0c\u68c0\u67e5 resolv.conf"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"ping \u901a\u4f46 curl \u8d85\u65f6"}),(0,i.jsx)(n.td,{children:"\u670d\u52a1\u7aef\u672a\u76d1\u542c\u7aef\u53e3/HTTP \u670d\u52a1\u5f02\u5e38"}),(0,i.jsx)(n.td,{children:"\u68c0\u67e5\u76ee\u6807\u670d\u52a1\u72b6\u6001\u6216\u7f51\u7edc\u9632\u706b\u5899\u89c4\u5219"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"HTTPS \u8bc1\u4e66\u62a5\u9519"}),(0,i.jsx)(n.td,{children:"\u8bc1\u4e66\u8fc7\u671f/\u57df\u540d\u4e0d\u5339\u914d"}),(0,i.jsxs)(n.td,{children:["\u67e5\u770b\u8bc1\u4e66\u8be6\u60c5\uff0c\u5fc5\u8981\u65f6\u52a0 ",(0,i.jsx)(n.code,{children:"-k"})," \u5ffd\u7565\uff08\u4e34\u65f6\u65b9\u6848\uff09"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"\u4f01\u4e1a\u7f51\u7edc\u8bbf\u95ee\u5931\u8d25"}),(0,i.jsx)(n.td,{children:"\u7f51\u7edc\u7b56\u7565\u9650\u5236/HTTPS \u68c0\u67e5"}),(0,i.jsx)(n.td,{children:"\u5207\u6362\u7f51\u7edc\u3001\u4f7f\u7528 VPN \u6216 Shadowsocks \u6d4b\u8bd5"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"62-\u5feb\u901f\u4fee\u590d\u65b9\u6cd5",children:"6.2 \u5feb\u901f\u4fee\u590d\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5207\u6362\u6d4f\u89c8\u5668\u6216\u8bbe\u5907"}),"\uff08\u6392\u9664\u7f13\u5b58\u6216\u7528\u6237\u914d\u7f6e\uff09"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u91cd\u542f\u7f51\u7edc\u670d\u52a1"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart NetworkManager  # RHEL/CentOS 7+\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u5237\u65b0 DNS \u7f13\u5b58"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemd-resolve --flush-caches    # systemd\nsudo dscacheutil -flushcache           # macOS\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"63-\u5feb\u901f\u6392\u67e5\u811a\u672c",children:"6.3 \u5feb\u901f\u6392\u67e5\u811a\u672c"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\ndomain=$1\nip=$(dig +short $domain | head -n1)\n\necho "\ud83d\udd0d \u68c0\u67e5 DNS"\ndig $domain +short || exit 1\n\necho "\ud83d\udce1 Ping \u6d4b\u8bd5: $ip"\nping -c 4 $ip || echo "\u274c Ping \u5931\u8d25"\n\necho "\ud83e\udded \u8def\u7531\u8ffd\u8e2a"\ntraceroute $domain || echo "\u274c Traceroute \u5931\u8d25"\n\necho "\ud83d\udce6 Curl \u6d4b\u8bd5"\ncurl -v --max-time 5 http://$domain || echo "\u274c Curl \u8bf7\u6c42\u5931\u8d25"\n\necho "\ud83d\udd17 \u7aef\u53e3\u68c0\u67e5"\nnc -zv $domain 80\nnc -zv $domain 443\n'})})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>r});var l=s(6540);const i={},d=l.createContext(i);function c(e){const n=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);